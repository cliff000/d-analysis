<h1>対戦の記録</h1>
<p>対戦結果を保存するためのページです</p>

<%= form_for(@match, url:{controller:'maches', action:'create'}) do |form| %>
    <div class="form-group">
        <label>自分のデッキ</label>
        <%= form.select :mydeck, @decks,
            {selected: @lastData.nil? ? "" : @lastData.mydeck}, {class: 'form-control'} %>
    </div>
    <div class="form-group">
        <label>自分のスキル</label>
        <%= form.select :myskill, @skills,
            {selected: @lastData.nil? ? "" : @lastData.myskill}, {class: 'form-control'} %>
    </div>
    
    <div class="form-group">
        <label>相手のデッキ</label>
        <%= form.select :oppdeck, @decks,
            {}, {class: 'form-control'} %>
    </div>

    <div class="form-group">
        <label>相手のスキル</label>
        <%= form.select :oppskill, @skills,
            {}, {selected: "", class: 'form-control'} %>
    </div>

    <div class="form-check">
        <label><%= form.radio_button :victory, "勝ち", :class => 'form-check-input', checked: true%>勝ち</label>
    </div>
    <div class="form-check">
        <label><%= form.radio_button :victory, "負け", :class => 'form-check-input' %>負け</label>
    </div>

    <div class="form-group">
        <label>
            <font size='4' align='center'>DP</font>
            <font size='5' id=dp_pm align='center'>+</font>
            <%= form.text_field :dpChanging , value: "1000" %>
        </label>
    </div>

    <%= form.submit "送信", class:"btn btn-primary" %>
<% end %>

<script>
    $('#match_victory_勝ち').change(function(){
        $('#dp_pm').text("+")
    });
    $('#match_victory_負け').change(function(){
        $('#dp_pm').text(" - ")
    });

    $('#match_oppdeck').change(function(){
        $('#match_oppskill').val(gon.major_skill[$('#match_oppdeck').val()]);
    });
</script>

